using Microsoft.AspNetCore.Builder;
using Microsoft.Extensions.DependencyInjection;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace library.Models
{
    public static class DbInitializer
    {
        public static void Seed(AppDbContext context)
        {
            context.Database.EnsureCreated();//if db is not exist ,it will create database .but ,do nothing .
            if (!context.Categories.Any())
            {
                context.Categories.AddRange(Categories.Select(c => c.Value));
            }
            if (!context.Books.Any())
            {
                context.AddRange
                (
                    new Book { Title = "When Breath Becomes Air", Author = "Paul Kalanithi", Description = "The memoir of Paul Kalanithi, a neurosurgeon at Stanford University, who is diagnosed with terminal lung cancer in his mid-thirties. Kalanithi uses the pages in this book to not only tell his story, but also share his ideas on how to approach death with grace and what it means to be fully alive.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2016/10/WHEN-BREATH-BECOMES-AIR-by-PAUL-KALANITHI-474x700.jpg?x83440", IsBookOfTheWeek = true, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Sapiens: A Brief History of Humankind", Author = "Yuval Noah Harari", Description = "Human history has been shaped by three major revolutions: the Cognitive Revolution (70,000 years ago), the Agricultural Revolution (10,000 years ago), and the Scientific Revolution (500 years ago). These revolutions have empowered humans to do something no other form of life has done, which is to create and connect around ideas that do not physically exist (think religion, capitalism, and politics). These shared “myths” have enabled humans to take over the globe and have put humankind on the verge of overcoming the forces of natural selection.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2016/06/sapiens-by-yuval-noah-harari-469x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Into Thin Air: A Personal Account of the Mt. Everest Disaster", Author = "Jon Krakauer", Description = "A bank of clouds was assembling on the not-so-distant horizon, but journalist-mountaineer Jon Krakauer, standing on the summit of Mt. Everest, saw nothing that suggested that a murderous storm was bearing down. He was wrong. The storm, which claimed five lives and left countless more--including Krakauer's--in guilt-ridden disarray, would also provide the impetus for Into Thin Air, Krakauer's epic account of the May 1996 disaster.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Into-Thin-Air-by-Jon-Krakauer-455x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Surely You’re Joking, Mr. Feynman!", Author = "Richard P. Feynman", Description = "Richard Feynman, winner of the Nobel Prize in physics, thrived on outrageous adventures. Here he recounts in his inimitable voice his experience trading ideas on atomic physics with Einstein and Bohr and ideas on gambling with Nick the Greek; cracking the uncrackable safes guarding the most deeply held nuclear secrets; accompanying a ballet on his bongo drums; painting a naked female toreador. In short, here is Feynman's life in all its eccentric―a combustible mixture of high intelligence, unlimited curiosity, and raging chutzpah.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Surely-Youre-Joking-Mr-Feynman-by-Richard-Feynman-496x700.jpeg?x83440", IsBookOfTheWeek = true, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Guns, Germs, and Steel: The Fates of Human Societies", Author = "Jared Diamond", Description = "Some environments provide more starting materials and more favorable conditions for utilizing inventions and building societies than other environments. This is particularly notable in the rise of European peoples, which occurred because of environmental differences and not because of biological differences in the people themselves. There are four primary reasons Europeans rose to power and conquered the natives of North and South America, and not the other way around: 1) the continental differences in the plants and animals available for domestication, which led to more food and larger populations in Europe and Asia, 2) the rate of diffusion of agriculture, technology and innovation due to the geographic orientation of Europe and Asia (east-west) compared to the Americas (north-south), 3) the ease of intercontinental diffusion between Europe, Asia, and Africa, and 4) the differences in continental size, which led to differences in total population size and technology diffusion.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2016/08/GunsGermsAndSteel-by-JaredDiamond-459x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Manual for Living", Author = "Epictetus", Description = "Some things are in your power and some are not—do not confuse the two and do not desire the things that are not in your power. It is our opinion of things that determines how we feel about a particular event, not the event itself. Think carefully about how you spend your life because people often spend their lives chasing things that are neither as desirable nor as important as they seem.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/09/ManualForLiving-by-Epictetus-596x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Influence: The Psychology of Persuasion", Author = "Robert Cialdini", Description = "Influence, the classic book on persuasion, explains the psychology of why people say yes—and how to apply these understandings. Dr. Robert Cialdini is the seminal expert in the rapidly expanding field of influence and persuasion. His thirty-five years of rigorous, evidence-based research along with a three-year program of study on what moves people to change behavior has resulted in this highly acclaimed book. You'll learn the six universal principles, how to use them to become a skilled persuader—and how to defend yourself against them. Perfect for people in all walks of life, the principles of Influence will move you toward profound personal change and act as a driving force for your success.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Influence-by-Robert-Cialdini-464x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "Meditations", Author = "Marcus Aurelius", Description = "One of the world's most famous and influential books, Meditations, by the Roman emperor Marcus Aurelius (A.D. 121–180), incorporates the stoic precepts he used to cope with his life as a warrior and administrator of an empire. Ascending to the imperial throne in A.D. 161, Aurelius found his reign beset by natural disasters and war. In the wake of these challenges, he set down a series of private reflections, outlining a philosophy of commitment to virtue above pleasure and tranquility above happiness. Reflecting the emperor's own noble and self-sacrificing code of conduct, this eloquent and moving work draws and enriches the tradition of Stoicism, which stressed the search for inner peace and ethical certainty in an apparently chaotic world. Serenity was to be achieved by emulating in one's personal conduct the underlying orderliness and lawfulness of nature.And in the face of inevitable pain, loss, and death — the suffering at the core of life — Aurelius counsels stoic detachment from the things that are beyond one's control and a focus on one's own will and perception. Presented here in a specially modernized version of the classic George Long translation, this updated and revised edition is easily accessible to contemporary readers.It not only provides a fascinating glimpse into the mind and personality of a highly principled Roman of the second century but also offers today's readers a practical and inspirational guide to the challenges of everyday life.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Meditations-by-Marcus-Aurelius-462x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "A Brief History of Time", Author = "Stephen Hawking", Description = "A landmark volume in science writing by one of the great minds of our time, Stephen Hawking’s book explores such profound questions as: How did the universe begin—and what made its start possible? Does time always flow forward? Is the universe unending—or are there boundaries? Are there other dimensions in space? What will happen when it all ends? Told in language we all can understand, A Brief History of Time plunges into the exotic realms of black holes and quarks, of antimatter and “arrows of time,” of the big bang and a bigger God—where the possibilities are wondrous and unexpected.With exciting images and profound imagination, Stephen Hawking brings us closer to the ultimate secrets at the very heart of creation.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/A-Brief-History-of-Time-by-Stephen-Hawking-467x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "The War of Art: Break Through Your Blocks and Win Your Inner Creative Battles", Author = "Steven Pressfield", Description = "A succinct, engaging, and practical guide for succeeding in any creative sphere, The War of Art is nothing less than Sun-Tzu for the soul. What keeps so many of us from doing what we long to do? Why is there a naysayer within ? How can we avoid the roadblocks of any creative endeavor—be it starting up a dream business venture, writing a novel, or painting a masterpiece? Bestselling novelist Steven Pressfield identifies the enemy that every one of us must face, outlines a battle plan to conquer this internal foe, then pinpoints just how to achieve the greatest success.The War of Art emphasizes the resolve needed to recognize and overcome the obstacles of ambition and then effectively shows how to reach the highest level of creative discipline. Think of it as tough love. . . for yourself. Whether an artist, writer or business person, this simple, personal, and no-nonsense book will inspire you to seize the potential of your life.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/The-War-of-Art-by-Steven-Pressfield-439x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Non-Fiction"] },
                    new Book { Title = "The Harry Potter series", Author = "J.K. Rowling", Description = "The books concern a wizard called Harry Potter and his journey through Hogwarts School of Witchcraft and Wizardry. The stories tell of him overcoming dangerous obstacles to defeat the Dark wizard Lord Voldemort who killed his parents when Harry was 15 months old. The first book, Harry Potter and The Philosopher's Stone, was published in 1997 by Bloomsbury in London. The last book, Harry Potter and the Deathly Hallows, sold more than 12 million copies in the U.S.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Harry-Potter-by-JK-Rowling-568x700.jpeg?x83440", IsBookOfTheWeek = true, Category = Categories["Fiction"] },
                    new Book { Title = "The Lord of the Rings Trilogy", Author = "J.R.R.Tolkien", Description = "In ancient times the Rings of Power were crafted by the Elven - smiths,and Sauron, the Dark Lord, forged the One Ring, filling it with his own power so that he could rule all others.But the One Ring was taken from him, and though he sought it throughout Middle - earth, it remained lost to him.After many ages it fell by chance into the hands of the hobbit Bilbo Baggins.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Lord-of-the-Rings-by-JRR-Tolkien-541x700.jpg?x83440", IsBookOfTheWeek = true, Category = Categories["Fiction"] },
                    new Book { Title = "The Count of Monte Cristo", Author = "Alexandre Dumas", Description = "Thrown in prison for a crime he has not committed, Edmond Dantes is confined to the grim fortress of If. There he learns of a great hoard of treasure hidden on the Isle of Monte Cristo and he becomes determined not only to escape, but also to unearth the treasure and use it to plot the destruction of the three men responsible for his incarceration. Dumas’ epic tale of suffering and retribution, inspired by a real-life case of wrongful imprisonment, was a huge popular success when it was first serialized in the 1840s. Robin Buss’s lively English translation is complete and unabridged, and remains faithful to the style of Dumas’s original. This edition includes an introduction, explanatory notes and suggestions for further reading.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Count-of-Monte-Cristo-by-Alexandre-Dumas-448x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "A Game of Thrones", Author = "George R.R. Martin", Description = "From a master of contemporary fantasy comes the first novel of a landmark series unlike any you’ve ever read before. With A Game of Thrones, George R. R. Martin has launched a genuine masterpiece, bringing together the best the genre has to offer. Mystery, intrigue, romance, and adventure fill the pages of this magnificent saga, the first volume in an epic series sure to delight fantasy fans everywhere.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/A-Game-of-Thrones-by-George-RR-Martin-461x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "To Kill a Mockingbird ", Author = "Harper Lee", Description = "Compassionate, dramatic, and deeply moving, To Kill A Mockingbird takes readers to the roots of human behavior - to innocence and experience, kindness and cruelty, love and hatred, humor and pathos. Now with over 18 million copies in print and translated into forty languages, this regional story by a young Alabama woman claims universal appeal. Harper Lee always considered her book to be a simple love story. Today it is regarded as a masterpiece of American literature.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/To-Kill-A-Mockingbird-by-Harper-Lee-491x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "The Little Prince", Author = "Antoine de Saint-Exupery", Description = "Few stories are as widely read and as universally cherished by children and adults alike as The Little Prince. Richard Howard's translation of the beloved classic beautifully reflects Saint-Exupéry's unique and gifted style. Howard, an acclaimed poet and one of the preeminent translators of our time, has excelled in bringing the English text as close as possible to the French, in language, style, and most important, spirit. The artwork in this edition has been restored to match in detail and in color Saint-Exupéry's original artwork. Combining Richard Howard's translation with restored original art, this definitive English-language edition of The Little Prince will capture the hearts of readers of all ages.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/The-Little-Prince-by-Antoine-de-Saint-Exupery-560x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "Siddhartha", Author = "Herman Hesse", Description = "The classic novel of a quest for knowledge that has delighted, inspired, and influenced generations of readers, writers, and thinkers—a perennial favorite for graduation gifts.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2017/03/Siddhartha-by-Herman-Hesse.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "Candide", Author = "Voltaire", Description = "Caustic and hilarious, Candide has ranked as one of the world's great satires since its first publication in 1759. It concerns the adventures of the youthful Candide, disciple of Dr. Pangloss, who was himself a disciple of Leibniz. In the course of his travels and adventures in Europe and South America, Candide saw and suffered such misfortune that it was difficult for him to believe this was the best of all possible worlds as Dr. Pangloss had assured him. Indeed, it seemed to be quite the opposite. In brilliantly skewering such naïveté, Voltaire mercilessly exposes and satirizes romance, science, philosophy, religion, and government — the ideas and forces that permeate and control the lives of men. After many trials and travails, Candide is reunited with Cunegonde, his sweetheart. He then buys a little farm in Turkey where he and Cunegonde, Dr. Pangloss and others all retire. In the end, Candide decides that the best thing in the world is to cultivate one's own garden. A selection of the Common Core State Standards Initiative.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/Candide-by-Voltaire-499x700.jpg?x83440", IsBookOfTheWeek = true, Category = Categories["Fiction"] },
                    new Book { Title = "The Girl with the Dragon Tattoo", Author = "Stieg Larsson", Description = "Murder mystery, family saga, love story, and financial intrigue combine into one satisfyingly complex and entertainingly atmospheric novel, the first in Stieg Larsson's thrilling Millenium series featuring Lisbeth Salander.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/The-Girl-With-the-Dragon-Tattoo-by-Stieg-Larsson-395x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] },
                    new Book { Title = "The Alchemist", Author = "Paulo Coelho", Description = "The Alchemist by Paulo Coelho continues to change the lives of its readers forever. With more than two million copies sold around the world, The Alchemist has established itself as a modern classic, universally admired. Paulo Coelho's masterpiece tells the magical story of Santiago, an Andalusian shepherd boy who yearns to travel in search of a worldly treasure as extravagant as any ever found. The story of the treasures Santiago finds along the way teaches us, as only a few stories can, about the essential wisdom of listening to our hearts, learning to read the omens strewn along life's path, and, above all, following our dreams.", ImageUrl = "https://jamesclear.com/wp-content/uploads/2015/02/The-Alchemist-by-Paulo-Coelho-461x700.jpg?x83440", IsBookOfTheWeek = false, Category = Categories["Fiction"] }
);
            }
            context.SaveChanges();
        }
        private static Dictionary<string, Category> categories;
        public static Dictionary<string, Category> Categories
        {
            get
            {
                if (categories == null)
                {
                    var genresList = new Category[]
                    {
                        new Category {CategoryName="Non-Fiction"},
                        new Category {CategoryName="Fiction"}
                    };

                    categories = new Dictionary<string, Category>();

                    foreach (Category genre in genresList)
                    {
                        categories.Add(genre.CategoryName, genre);
                    }
                }
                return categories;
            }
        }
    }
}
